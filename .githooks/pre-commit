#!/usr/bin/env bash
set -euo pipefail

if ! command -v gitleaks >/dev/null 2>&1; then
  echo "[pre-commit] gitleaks is required but not installed."
  echo "[pre-commit] Install with: brew install gitleaks"
  exit 1
fi

gitleaks protect \
  --staged \
  --redact \
  --config .gitleaks.toml
